\doxysection{original\+::obj\+Pool\+Allocator\texorpdfstring{$<$}{<} TYPE \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classoriginal_1_1obj_pool_allocator}{}\label{classoriginal_1_1obj_pool_allocator}\index{original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}}


Object pool allocator for efficient fixed-\/size memory management.  




{\ttfamily \#include $<$allocator.\+h$>$}



Inheritance diagram for original\+::obj\+Pool\+Allocator\texorpdfstring{$<$}{<} TYPE \texorpdfstring{$>$}{>}\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{classoriginal_1_1obj_pool_allocator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for original\+::obj\+Pool\+Allocator\texorpdfstring{$<$}{<} TYPE \texorpdfstring{$>$}{>}\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{classoriginal_1_1obj_pool_allocator__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classoriginal_1_1obj_pool_allocator_a5e66fe52eddc58fdc5e37764d94b84d9}\label{classoriginal_1_1obj_pool_allocator_a5e66fe52eddc58fdc5e37764d94b84d9} 
using {\bfseries propagate\+\_\+on\+\_\+container\+\_\+move\+\_\+assignment} = std\+::true\+\_\+type
\begin{DoxyCompactList}\small\item\em Allows propagation on move. \end{DoxyCompactList}\item 
\Hypertarget{classoriginal_1_1obj_pool_allocator_a52f7225d3389a0d6bc21b5338f1046c2}\label{classoriginal_1_1obj_pool_allocator_a52f7225d3389a0d6bc21b5338f1046c2} 
using {\bfseries propagate\+\_\+on\+\_\+container\+\_\+swap} = std\+::true\+\_\+type
\begin{DoxyCompactList}\small\item\em Allows propagation on swap. \end{DoxyCompactList}\item 
\Hypertarget{classoriginal_1_1obj_pool_allocator_abd57f8bd76a9ecdb923c10e2d00c35ce}\label{classoriginal_1_1obj_pool_allocator_abd57f8bd76a9ecdb923c10e2d00c35ce} 
using {\bfseries propagate\+\_\+on\+\_\+container\+\_\+merge} = std\+::true\+\_\+type
\begin{DoxyCompactList}\small\item\em Allows propagation on merge. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classoriginal_1_1allocator_base}{original\+::allocator\+Base$<$ TYPE, obj\+Pool\+Allocator $>$}}}
\begin{DoxyCompactItemize}
\item 
using {\bfseries propagate\+\_\+on\+\_\+container\+\_\+copy\+\_\+assignment}
\begin{DoxyCompactList}\small\item\em No propagation on copy. \end{DoxyCompactList}\item 
using {\bfseries propagate\+\_\+on\+\_\+container\+\_\+move\+\_\+assignment}
\begin{DoxyCompactList}\small\item\em No propagation on move. \end{DoxyCompactList}\item 
using {\bfseries propagate\+\_\+on\+\_\+container\+\_\+swap}
\begin{DoxyCompactList}\small\item\em No propagation on swap. \end{DoxyCompactList}\item 
using {\bfseries propagate\+\_\+on\+\_\+container\+\_\+merge}
\begin{DoxyCompactList}\small\item\em No propagation on merge. \end{DoxyCompactList}\item 
using \mbox{\hyperlink{classoriginal_1_1allocator_base_a635799ad6edd53836205d0bd051669af}{rebind\+\_\+alloc}}
\begin{DoxyCompactList}\small\item\em Rebinds allocator to different type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator_a657215b567e8924cccd287661d0ba774}{obj\+Pool\+Allocator}} (\mbox{\hyperlink{namespaceoriginal_a2d678ae654034cea391c946ada41bd2e}{u\+\_\+integer}} size\+\_\+class\+\_\+count=8, \mbox{\hyperlink{namespaceoriginal_a2d678ae654034cea391c946ada41bd2e}{u\+\_\+integer}} count=4)
\begin{DoxyCompactList}\small\item\em Constructs a new object pool allocator. \end{DoxyCompactList}\item 
\Hypertarget{classoriginal_1_1obj_pool_allocator_a2299292face14bf0c8974e9b163872b0}\label{classoriginal_1_1obj_pool_allocator_a2299292face14bf0c8974e9b163872b0} 
{\bfseries obj\+Pool\+Allocator} (const \mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}} \&)=delete
\begin{DoxyCompactList}\small\item\em Copy construction disabled. \end{DoxyCompactList}\item 
\Hypertarget{classoriginal_1_1obj_pool_allocator_af3aab0bb746ec7674e4ec45f071b7189}\label{classoriginal_1_1obj_pool_allocator_af3aab0bb746ec7674e4ec45f071b7189} 
\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}} \& {\bfseries operator=} (const \mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}} \&)=delete
\begin{DoxyCompactList}\small\item\em Copy assignment disabled. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}} \& \mbox{\hyperlink{classoriginal_1_1obj_pool_allocator_a22941246ca061e8e5b6decfaeb025f72}{operator+=}} (\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}} \&other)
\begin{DoxyCompactList}\small\item\em Merges another pool allocator into this one. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator_a687a7e99a88e472cbd4c228761178535}{obj\+Pool\+Allocator}} (\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}} \&\&other) noexcept
\begin{DoxyCompactList}\small\item\em Move constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}} \& \mbox{\hyperlink{classoriginal_1_1obj_pool_allocator_aa2ae066abbc55171ae4da86acfed51c4}{operator=}} (\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}} \&\&other) noexcept
\begin{DoxyCompactList}\small\item\em Move assignment operator. \end{DoxyCompactList}\item 
TYPE \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classoriginal_1_1obj_pool_allocator_a289ae6049e797b342039507875444788}{allocate}} (\mbox{\hyperlink{namespaceoriginal_a2d678ae654034cea391c946ada41bd2e}{u\+\_\+integer}} size) override
\begin{DoxyCompactList}\small\item\em Allocates memory from the pool. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classoriginal_1_1obj_pool_allocator_a58da1525d35c2d24511216fafe70ab13}{deallocate}} (TYPE \texorpdfstring{$\ast$}{*}ptr, \mbox{\hyperlink{namespaceoriginal_a2d678ae654034cea391c946ada41bd2e}{u\+\_\+integer}} size) override
\begin{DoxyCompactList}\small\item\em Returns memory to the pool. \end{DoxyCompactList}\item 
\Hypertarget{classoriginal_1_1obj_pool_allocator_aed6aa25ed40e3070da523d321fa88225}\label{classoriginal_1_1obj_pool_allocator_aed6aa25ed40e3070da523d321fa88225} 
{\bfseries \texorpdfstring{$\sim$}{\string~}obj\+Pool\+Allocator} () override
\begin{DoxyCompactList}\small\item\em Destructor -\/ releases all allocated memory. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classoriginal_1_1allocator_base}{original\+::allocator\+Base$<$ TYPE, obj\+Pool\+Allocator $>$}}}
\begin{DoxyCompactItemize}
\item 
constexpr \mbox{\hyperlink{classoriginal_1_1allocator_base_abf970ff9b43924e472a000db704109a3}{allocator\+Base}} ()
\begin{DoxyCompactList}\small\item\em Constructs a new \doxylink{classoriginal_1_1allocator_base}{allocator\+Base} instance. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classoriginal_1_1allocator_base_abb38e5b205a147709e9357af4fd87c6d}{construct}} (O\+\_\+\+TYPE \texorpdfstring{$\ast$}{*}o\+\_\+ptr, Args \&\&... args)
\begin{DoxyCompactList}\small\item\em Constructs an object in allocated memory. \end{DoxyCompactList}\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}allocator\+Base} ()=0
\begin{DoxyCompactList}\small\item\em Virtual destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classoriginal_1_1allocator_base}{original\+::allocator\+Base$<$ TYPE, obj\+Pool\+Allocator $>$}}}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classoriginal_1_1allocator_base_ad7e8d4f7922526e52f176325dfc1996f}{destroy}} (O\+\_\+\+TYPE \texorpdfstring{$\ast$}{*}o\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em Destroys an object without deallocating. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename TYPE$>$\newline
class original\+::obj\+Pool\+Allocator$<$ TYPE $>$}
Object pool allocator for efficient fixed-\/size memory management. 


\begin{DoxyTemplParams}{Template Parameters}
{\em TYPE} & Type of objects to allocate\\
\hline
\end{DoxyTemplParams}
Implements a memory allocator using an object pool pattern with these characteristics\+:
\begin{DoxyItemize}
\item Organizes memory into power-\/of-\/two sized chunks (1, 2, 4, 8, 16, 32, ... bytes)
\item Maintains separate free lists for each chunk size
\item Allocates memory in blocks (chunks) to reduce fragmentation
\item Falls back to \doxylink{classoriginal_1_1allocators_a1e3e80d6f4395ad311500c3e2a532017}{allocators\+::malloc}/ \doxylink{classoriginal_1_1allocators_ae8f0c12c9e26cb96c0009f21a0834e04}{allocators\+::free} for allocations too large for the pool
\end{DoxyItemize}

Memory Management Approach\+:
\begin{DoxyEnumerate}
\item The allocator maintains multiple free lists, one for each size class (power-\/of-\/two)
\item When an allocation request comes in\+:
\begin{DoxyItemize}
\item Finds the smallest size class that can satisfy the request
\item If no free chunks available, allocates a new block of chunks
\item For requests too large for the largest size class, uses global new
\end{DoxyItemize}
\item When memory is deallocated\+:
\begin{DoxyItemize}
\item Returns the chunk to its appropriate free list
\item Large allocations (outside pool) are freed immediately
\end{DoxyItemize}
\end{DoxyEnumerate}

\begin{DoxyNote}{Note}
For large allocations, uses \doxylink{classoriginal_1_1allocators_a1e3e80d6f4395ad311500c3e2a532017}{allocators\+::malloc}/ \doxylink{classoriginal_1_1allocators_ae8f0c12c9e26cb96c0009f21a0834e04}{allocators\+::free}
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{classoriginal_1_1allocator}{allocator} For the default \doxylink{classoriginal_1_1allocator}{allocator} implementation 
\end{DoxySeeAlso}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classoriginal_1_1obj_pool_allocator_a657215b567e8924cccd287661d0ba774}\index{original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}!objPoolAllocator@{objPoolAllocator}}
\index{objPoolAllocator@{objPoolAllocator}!original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}}
\doxysubsubsection{\texorpdfstring{objPoolAllocator()}{objPoolAllocator()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classoriginal_1_1obj_pool_allocator_a657215b567e8924cccd287661d0ba774} 
template$<$typename TYPE $>$ \\
\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{original\+::obj\+Pool\+Allocator}}$<$ TYPE $>$\+::obj\+Pool\+Allocator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoriginal_a2d678ae654034cea391c946ada41bd2e}{u\+\_\+integer}}}]{size\+\_\+class\+\_\+count}{ = {\ttfamily 8}, }\item[{\mbox{\hyperlink{namespaceoriginal_a2d678ae654034cea391c946ada41bd2e}{u\+\_\+integer}}}]{count}{ = {\ttfamily 4}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Constructs a new object pool allocator. 


\begin{DoxyParams}{Parameters}
{\em size\+\_\+class\+\_\+count} & Number of size classes to manage (default=8 â†’ indices 0-\/7) \\
\hline
{\em count} & Initial number of chunks per size class (default 4) \\
\hline
\end{DoxyParams}
\Hypertarget{classoriginal_1_1obj_pool_allocator_a687a7e99a88e472cbd4c228761178535}\index{original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}!objPoolAllocator@{objPoolAllocator}}
\index{objPoolAllocator@{objPoolAllocator}!original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}}
\doxysubsubsection{\texorpdfstring{objPoolAllocator()}{objPoolAllocator()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classoriginal_1_1obj_pool_allocator_a687a7e99a88e472cbd4c228761178535} 
template$<$typename TYPE $>$ \\
\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{original\+::obj\+Pool\+Allocator}}$<$ TYPE $>$\+::obj\+Pool\+Allocator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}}$<$ TYPE $>$ \&\&}]{other}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}



Move constructor. 


\begin{DoxyParams}{Parameters}
{\em other} & Allocator to move from \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Transfers ownership of all resources and leaves source in initialized state 
\end{DoxyNote}


\doxysubsection{Member Function Documentation}
\Hypertarget{classoriginal_1_1obj_pool_allocator_a289ae6049e797b342039507875444788}\index{original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}!allocate@{allocate}}
\index{allocate@{allocate}!original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}}
\doxysubsubsection{\texorpdfstring{allocate()}{allocate()}}
{\footnotesize\ttfamily \label{classoriginal_1_1obj_pool_allocator_a289ae6049e797b342039507875444788} 
template$<$typename TYPE $>$ \\
TYPE \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{original\+::obj\+Pool\+Allocator}}$<$ TYPE $>$\+::allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoriginal_a2d678ae654034cea391c946ada41bd2e}{u\+\_\+integer}}}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Allocates memory from the pool. 


\begin{DoxyParams}{Parameters}
{\em size} & Number of elements to allocate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to allocated memory 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classoriginal_1_1allocate_error}{allocate\+Error}} & When memory allocation fails \\
\hline
\end{DoxyExceptions}
\begin{DoxyNote}{Note}
For large allocations, falls back to global operator new 
\end{DoxyNote}


Implements \mbox{\hyperlink{classoriginal_1_1allocator_base_ae5c50e61f8ac4bd512f9cf944b212fa2}{original\+::allocator\+Base$<$ TYPE, obj\+Pool\+Allocator $>$}}.

\Hypertarget{classoriginal_1_1obj_pool_allocator_a58da1525d35c2d24511216fafe70ab13}\index{original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}!deallocate@{deallocate}}
\index{deallocate@{deallocate}!original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}}
\doxysubsubsection{\texorpdfstring{deallocate()}{deallocate()}}
{\footnotesize\ttfamily \label{classoriginal_1_1obj_pool_allocator_a58da1525d35c2d24511216fafe70ab13} 
template$<$typename TYPE $>$ \\
void \mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{original\+::obj\+Pool\+Allocator}}$<$ TYPE $>$\+::deallocate (\begin{DoxyParamCaption}\item[{TYPE \texorpdfstring{$\ast$}{*}}]{ptr}{, }\item[{\mbox{\hyperlink{namespaceoriginal_a2d678ae654034cea391c946ada41bd2e}{u\+\_\+integer}}}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns memory to the pool. 


\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to memory to free \\
\hline
{\em size} & Number of elements originally allocated \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
For large allocations, uses global operator delete 
\end{DoxyNote}


Implements \mbox{\hyperlink{classoriginal_1_1allocator_base_ae39301cebacf88133d4804150be02f7e}{original\+::allocator\+Base$<$ TYPE, obj\+Pool\+Allocator $>$}}.

\Hypertarget{classoriginal_1_1obj_pool_allocator_a22941246ca061e8e5b6decfaeb025f72}\index{original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}!operator+=@{operator+=}}
\index{operator+=@{operator+=}!original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}}
\doxysubsubsection{\texorpdfstring{operator+=()}{operator+=()}}
{\footnotesize\ttfamily \label{classoriginal_1_1obj_pool_allocator_a22941246ca061e8e5b6decfaeb025f72} 
template$<$typename TYPE $>$ \\
\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{original\+::obj\+Pool\+Allocator}}$<$ TYPE $>$ \& \mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{original\+::obj\+Pool\+Allocator}}$<$ TYPE $>$\+::operator+= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}}$<$ TYPE $>$ \&}]{other}{}\end{DoxyParamCaption})}



Merges another pool allocator into this one. 


\begin{DoxyParams}{Parameters}
{\em other} & The allocator to merge \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Reference to this allocator
\end{DoxyReturn}
Merges\+:
\begin{DoxyItemize}
\item Size class configurations (takes maximum)
\item Free lists (concatenates)
\item Allocated blocks (combines)
\item Allocator resources (since propagate\+\_\+on\+\_\+container\+\_\+merge is true) 
\end{DoxyItemize}\Hypertarget{classoriginal_1_1obj_pool_allocator_aa2ae066abbc55171ae4da86acfed51c4}\index{original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}!operator=@{operator=}}
\index{operator=@{operator=}!original::objPoolAllocator$<$ TYPE $>$@{original::objPoolAllocator$<$ TYPE $>$}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \label{classoriginal_1_1obj_pool_allocator_aa2ae066abbc55171ae4da86acfed51c4} 
template$<$typename TYPE $>$ \\
\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{original\+::obj\+Pool\+Allocator}}$<$ TYPE $>$ \& \mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{original\+::obj\+Pool\+Allocator}}$<$ TYPE $>$\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classoriginal_1_1obj_pool_allocator}{obj\+Pool\+Allocator}}$<$ TYPE $>$ \&\&}]{other}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}



Move assignment operator. 


\begin{DoxyParams}{Parameters}
{\em other} & Allocator to move from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Reference to this allocator 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Releases current resources before taking ownership of new ones Leaves source in initialized state via pool\+Init() 
\end{DoxyNote}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/core/\mbox{\hyperlink{allocator_8h}{allocator.\+h}}\end{DoxyCompactItemize}
